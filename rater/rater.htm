<!DOCTYPE html>
<html>
    <head>
    	<meta charset="utf-8" />
        <title>rater</title>
        <link href="../SyntaxHighlighter.css" rel="stylesheet" />
        <link href="rater.css" rel="stylesheet" />
        <style>
			.dp-highlighter{ margin-top: 0 !important;}
			.container, .description{ border:2px solid #EEE; margin-left:10px;}
		</style>
        <script src="../_$.js"></script>
        <script src="rater.js"></script>
        <!--<script src="../data/data.js"></script>-->
        <script src="../SyntaxHighlighter.js"></script>
        
        <script>
			_$(document).ready(function(){
				new _$.Rater({
					"url": "rater.jsp?score=3",
					"msg": ["(部分有破损，与卖家描述的不符，不满足)","(质量一般，没有卖家描述的那么好)","(质量不错，与卖家描述的基本一致，还是挺满足的)","(质量非常好，与卖家描述的完全一致，非常满足)","(很好)"]
				}).prompt().appendTo(_$("#rater").node).bind("click",{"url": "rater.jsp?id=123", "params": function(score){
					return {
						"score": +score,
						"flag": 1
					};
				}},function(el,me){
					//console.log(el);
				});
				
				dp.SyntaxHighlighter.HighlightAll('code');
			});
		</script>
    </head>
    <body>
        <div class="description">
        	<h3>按顺序导入</h3>
        	<ul>
            	<li>rater.css</li>
            	<li>_$.js脚本</li>
                <li>rater.js脚本</li>
            </ul>
        </div>
    	<div class="container">
        	<h2>评分控件</h2>
            <div id="rater"></div>
            <div class="section">
                <code>
                <textarea readonly="readonly" name="code" class="jscript">
                    var rater = new _$.Rater({"url": "a.jsp", "msg": ["(部分有破损，与卖家描述的不符，不满足)","(质量一般，没有卖家描述的那么好)","(质量不错，与卖家描述的基本一致，还是挺满足的)","(质量非常好，与卖家描述的完全一致，非常满足)","(很好)"]});//创建一个评分，url为初始化的ajax请求，返回格式{"sum":25,"count":5, "flag": 0, "score": 4}，参数msg为评分信息
                    rater.appendTo(node);//添加到node对象中，node为dom节点
                    rater.bind("click",{"url": "a.jsp", "params": {"score": 4}}",fn);//绑定单击事件，传递json格式，params参数自定义，fn为回调函数
                </textarea>
                </code>
            </div>
        </div>
    </body>
</html>